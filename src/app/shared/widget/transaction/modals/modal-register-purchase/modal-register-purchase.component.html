<div class="modal-header ">
  <h5 class="modal-title mt-0">Registrar Compra</h5>
  <button type="button" class="btn-close" aria-hidden="true" (click)="closeModale()"></button>
</div>

<div class="container p-4">
<form [formGroup]="purchaseForm">
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <label for="products">Producto</label>
        <select class="form-control" id="products" formControlName="product">
          <option [value]="null" disabled>Seleccióna producto</option>
          <option *ngFor="let product of orderSelected.products">
            {{ (product.name.length > 50) ? (product.name | slice:0:50 ) + '...' :  product.name }}</option>
        </select>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <label for="store">Tienda</label>
        <select class="form-control" id="store" formControlName="store">
          <option [value]="null" disabled>Seleccióna tienda</option>
          <option *ngFor="let store of stores">
            {{ (store.name.length > 50) ? (store.name | slice:0:50 ) + '...' :  store.name }}</option>
        </select>
      </div>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-6">
      <label for="payment">Tipo de Pago</label>
      <select class="form-control" id="payment" formControlName="paymentType">
        <option [value]="null" disabled>Seleccióna tipo de pago</option>
        <option>USD</option>
      </select>
    </div>

    <div class="col-6">
      <div class="form-group">
        <label for="order_value">Total Compra</label>
        <input type="number" class="form-control" id="order_value" formControlName="totalPurchase">
      </div>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-6">
      <div class="form-group">
        <label for="order_number">Número Orden de Compra</label>
        <input type="number" class="form-control" id="order_number" formControlName="order">
      </div>

    </div>
    <div class="col-6">
        <div class="form-group">
          <label for="date">Fecha Compra</label>
          <div class="input-group clockpicker">
            <input ngbDatepicker class="form-control" id="date" placeholder="yyyy-mm-dd" #d="ngbDatepicker" formControlName="datePurchase">
            <div class="input-group-append" (click)="d.toggle()">
              <span class="input-group-text"><i class="mdi mdi-calendar"></i></span>
            </div>
          </div>
        </div>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-6">
      <div class="form-group">
        <label for="observations">Observaciones de Compra</label>
        <textarea class="form-control" id="observations" rows="3" formControlName="observations"></textarea>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <label for="date">Fecha Estimada de Ingreso a Casillero </label>
        <div class="input-group clockpicker">
          <input ngbDatepicker class="form-control" id="date" placeholder="yyyy-mm-dd" #d="ngbDatepicker" formControlName="dateLocker">
          <div class="input-group-append" (click)="d.toggle()">
            <span class="input-group-text"><i class="mdi mdi-calendar"></i></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
</div>


<div class="modal-footer">

  <button class="btn btn-secondary" (click)="closeModale()">
    Cancelar
  </button>

  <button class="btn btn-primary" >

    <ng-container *ngIf="isLoading">
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Cargando...
    </ng-container>

    <ng-container *ngIf="!isLoading">
      Guardar
    </ng-container>
  </button>
</div>

